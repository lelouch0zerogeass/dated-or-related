<script>
  let questions = [];
  let index = 0, score = 0;

  // Fetch approved questions.json
  fetch('data/questions.json')
    .then(res => res.json())
    .then(all => {
      const seen = new Set();
      // Keep only the first occurrence of each family
      questions = all.filter(q => {
        if (seen.has(q.family)) return false;
        seen.add(q.family);
        return true;
      });
      loadQuestion();
    });

  function loadQuestion() {
    const q = questions[index];
    document.getElementById('pic').src = q.file;
    document.getElementById('feedback').textContent = '';
    document.getElementById('score').textContent = `Score: ${score} / ${index}`;
  }

  function submitAnswer(choice) { /*…same as before…*/ }
  window.onload = loadQuestion;
</script>
